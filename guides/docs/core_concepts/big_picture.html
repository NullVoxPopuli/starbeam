<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Big Picture - Starbeam Low-Level Guide</title>
        <!-- Custom HTML head -->
        

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="../core_concepts/index.html"><strong aria-hidden="true">1.</strong> Core Concepts</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../core_concepts/big_picture.html" class="active"><strong aria-hidden="true">1.1.</strong> Big Picture</a></li><li class="chapter-item expanded "><a href="../core_concepts/reactive_data.html"><strong aria-hidden="true">1.2.</strong> Reactive Data</a></li><li class="chapter-item expanded "><a href="../core_concepts/universe.html"><strong aria-hidden="true">1.3.</strong> Universe</a></li><li class="chapter-item expanded "><a href="../core_concepts/timeline.html"><strong aria-hidden="true">1.4.</strong> Timeline</a></li><li class="chapter-item expanded "><a href="../core_concepts/reactive_dom.html"><strong aria-hidden="true">1.5.</strong> Reactive DOM</a></li></ol></li><li class="chapter-item expanded "><a href="../advanced/index.html"><strong aria-hidden="true">2.</strong> Advanced</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../advanced/dom_implementation.html"><strong aria-hidden="true">2.1.</strong> DOM Implementation</a></li></ol></li><li class="chapter-item expanded "><a href="../glossary.html"><strong aria-hidden="true">3.</strong> Glossary</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Starbeam Low-Level Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-big-picture"><a class="header" href="#the-big-picture">The Big Picture</a></h1>
<p>Starbeam is a data-first framework. Your app is a function from Reactive Data to Reactive DOM.</p>
<center>
<p>\( f(data) = dom \)</p>
</center>
<blockquote>
<p>TODO: Unlike Virtual DOM</p>
</blockquote>
<h2 id="what-is-reactivity"><a class="header" href="#what-is-reactivity">What is Reactivity?</a></h2>
<p>A Reactive web application has a Reactive DOM that remains up to date as its
underlying Reactive Data changes.</p>
<p>Unlike older paradigms, a programmer using a Reactive framework does not need to
manually update the DOM when the Reactive Data changes. Instead, the programmer
describes the DOM as a function of Reactive Data, and the framework maintains
consistency between the Reactive Data and the Reactive DOM.</p>
<h2 id="the-simplest-example"><a class="header" href="#the-simplest-example">The Simplest Example</a></h2>
<pre><code class="language-ts">let name = universe.cell(&quot;Tom&quot;);
let text = universe.render(universe.dom.text(name));

// the text node contains &quot;Tom&quot;

name.update(&quot;Thomas&quot;);

// TODO: Subsume this in RenderResult + Auto-Top-Down-Revalidation
universe.poll(text);

// the text node contains &quot;Thomas&quot;
</code></pre>
<blockquote>
<p>What is a universe?</p>
</blockquote>
<h2 id="reactive-data"><a class="header" href="#reactive-data">Reactive Data</a></h2>
<p>In Starbeam, the fundamental building block of Reactivity is a single, atomic
piece of state.</p>
<pre><code class="language-ts">let name = universe.cell(&quot;Tom&quot;);
</code></pre>
<p>This code creates a single, atomic storage, and puts the string <code>&quot;Tom&quot;</code> in it.</p>
<h2 id="reactive-dom"><a class="header" href="#reactive-dom">Reactive DOM</a></h2>
<p>In Starbeam, instead of creating DOM nodes directly, you create a Reactive DOM
Node and supply it with Reactive Data.</p>
<pre><code class="language-ts">let textNode = universe.dom.text(name);
</code></pre>
<p>Once you have constructed a Reactive DOM Node, you render it. Starbeam creates a
concrete DOM Node, which it will keep up to date as the underlying cell changes.</p>
<h2 id="updating-the-cell"><a class="header" href="#updating-the-cell">Updating the Cell</a></h2>
<pre><code class="language-ts">name.update(&quot;Thomas&quot;);
</code></pre>
<p>You can update any number of pieces of Reactive Data at once. Updating a piece of Reactive Data does <strong>not</strong> immediately cause the DOM to update. However, once you have updated a piece of Reactive Data, its new value is immediately visible.</p>
<pre><code class="language-ts">let name = universe.cell(&quot;Tom&quot;);
name.update(&quot;Thomas&quot;);
name.current; // Tom
</code></pre>
<p>This is important because the values that you see <strong>while updating your data</strong> are always consistent. The values that you see when working with your data are never dependent on the timing of Starbeam updates.</p>
<h2 id="computation"><a class="header" href="#computation">Computation</a></h2>
<p>Of course, you cannot write a program with only atomic variables. You need functions as well.</p>
<pre><code class="language-ts">let name = universe.cell(&quot;Tom&quot;);
let title = universe.memo(() =&gt; name.current.toUpperCase());

let text = universe.render(universe.dom.text(title));

// the text node contains &quot;TOM&quot;
</code></pre>
<p>Reactive Computations are another kind of Reactive Data, and Reactive Text Nodes
can be supplied with any kind of Reactive Data. This is what makes the Reactive
DOM so powerful. ...</p>
<h2 id="elements-and-attributes"><a class="header" href="#elements-and-attributes">Elements and Attributes</a></h2>
<p>Text nodes are great, but to build a real Reactive application, we will need
elements and attributes.</p>
<pre><code class="language-ts">let { element, text } = universe.dom;

let person = {
  name: universe.cell(&quot;Thomas Dale&quot;),
  nickname: universe.cell(&quot;Tom&quot;),
  org: universe.cell(&quot;LinkedIn&quot;),
  tel: universe.cell(&quot;+15551212&quot;),
  url: universe.cell(&quot;http://tomdale.net/&quot;),
};

let element = element(&quot;ul&quot;, { class: &quot;vcard&quot; }, [
  element(&quot;li&quot;, { class: &quot;fn&quot; }, [text(person.name)]),
  element(&quot;li&quot;, { class: &quot;nickname&quot; }, [text(person.nickname)]),
  element(&quot;li&quot;, { class: &quot;org&quot; }, [text(person.org)]),
  element(&quot;li&quot;, { class: &quot;tel&quot; }, [text(person.tel)]),
  element(&quot;li&quot;, [
    element(&quot;a&quot;, { class: &quot;url&quot;, href: person.url }, [text(person.url)]),
  ]),
]);

let card = universe.render(element);
</code></pre>
<h3 id="rendered-output"><a class="header" href="#rendered-output">Rendered Output</a></h3>
<pre><code class="language-html">&lt;ul class=&quot;vcard&quot;&gt;
  &lt;li class=&quot;fn&quot;&gt;Tom Dale&lt;/li&gt;
  &lt;li class=&quot;nickname&quot;&gt;Tom&lt;/li&gt;
  &lt;li class=&quot;org&quot;&gt;LinkedIn&lt;/li&gt;
  &lt;li class=&quot;tel&quot;&gt;+15551212&lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;url&quot; href=&quot;http://tomdale.net/&quot;&gt;http://tomdale.net/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<h3 id="updating-the-data"><a class="header" href="#updating-the-data">Updating the Data</a></h3>
<pre><code class="language-ts">&gt;&gt; person.url.update(&quot;https://tomdale.net&quot;);
&gt;&gt; person.url.current
-&gt; &quot;https://tomdale.net&quot;
&gt;&gt; person.org.update(&quot;LinkedIn Corporation&quot;);
&gt;&gt; person.url.current
-&gt; &quot;LinkedIn Corporation&quot;
&gt;&gt; card.update();
</code></pre>
<h3 id="updated-output"><a class="header" href="#updated-output">Updated Output</a></h3>
<pre><code class="language-html">&lt;ul class=&quot;vcard&quot;&gt;
  &lt;li class=&quot;fn&quot;&gt;Tom Dale&lt;/li&gt;
  &lt;li class=&quot;nickname&quot;&gt;Tom&lt;/li&gt;
  &lt;li class=&quot;org&quot;&gt;LinkedIn Corporation&lt;/li&gt;
  &lt;li class=&quot;tel&quot;&gt;+15551212&lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;url&quot; href=&quot;https://tomdale.net&quot;&gt;https://tomdale.net&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<h2 id="components"><a class="header" href="#components">Components</a></h2>
<p>Components aren't a special concept in Starbeam: a Component is just a function
that takes a Reactive parameter and returns a Reactive DOM Node.</p>
<h3 id="the-component"><a class="header" href="#the-component">The Component</a></h3>
<pre><code class="language-ts">function ContactCard({ name, nickname, org tel, url }) {
  return element(&quot;ul&quot;, { class: &quot;vcard&quot; }, [
    element(&quot;li&quot;, { class: &quot;fn&quot; }, [text(name)]),
    element(&quot;li&quot;, { class: &quot;nickname&quot; }, [text(nickname)]),
    element(&quot;li&quot;, { class: &quot;org&quot; }, [text(org)]),
    element(&quot;li&quot;, { class: &quot;tel&quot; }, [text(tel)]),
    element(&quot;li&quot;, [element(&quot;a&quot;, { class: &quot;url&quot;, href: url }, [text(url)])]),
  ]);
}
</code></pre>
<h3 id="rendering-the-component"><a class="header" href="#rendering-the-component">Rendering the Component</a></h3>
<pre><code class="language-ts">let tom = {
  name: universe.cell(&quot;Thomas Dale&quot;),
  nickname: universe.cell(&quot;Tom&quot;),
  org: universe.cell(&quot;LinkedIn&quot;),
  tel: universe.cell(&quot;+15551212&quot;),
  url: universe.cell(&quot;http://tomdale.net/&quot;),
};

let yehuda = {
  name: universe.cell(&quot;Yehuda Katz&quot;),
  nickname: universe.cell(&quot;Yehuda&quot;),
  org: universe.cell(&quot;Tilde&quot;),
  tel: universe.cell(&quot;+15551212&quot;),
  url: universe.cell(&quot;http://yehudakatz.com/&quot;),
};

let fragment = universe.fragment([ContactCard(tom), ContactCard(yehuda)]);

universe.render(fragment, { into: &quot;body&quot; });
</code></pre>
<h3 id="rendered-output-1"><a class="header" href="#rendered-output-1">Rendered Output</a></h3>
<pre><code class="language-html">&lt;ul class=&quot;vcard&quot;&gt;
  &lt;li class=&quot;fn&quot;&gt;Tom Dale&lt;/li&gt;
  &lt;li class=&quot;nickname&quot;&gt;Tom&lt;/li&gt;
  &lt;li class=&quot;org&quot;&gt;LinkedIn&lt;/li&gt;
  &lt;li class=&quot;tel&quot;&gt;+15551212&lt;/li&gt;
  &lt;li&gt;&lt;a class=&quot;url&quot; href=&quot;http://tomdale.net/&quot;&gt;http://tomdale.net/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;vcard&quot;&gt;
  &lt;li class=&quot;fn&quot;&gt;Yehuda Katz&lt;/li&gt;
  &lt;li class=&quot;nickname&quot;&gt;Yehuda&lt;/li&gt;
  &lt;li class=&quot;org&quot;&gt;Tilde&lt;/li&gt;
  &lt;li class=&quot;tel&quot;&gt;+15551212&lt;/li&gt;
  &lt;li&gt;
    &lt;a class=&quot;url&quot; href=&quot;http://yehudakatz.com/&quot;&gt;http://yehudakatz.com/&lt;/a&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</code></pre>
<h3 id="updating-the-data-1"><a class="header" href="#updating-the-data-1">Updating the Data</a></h3>
<pre><code class="language-ts">&gt;&gt; tom.url.update(&quot;https://tomdale.net&quot;);
&gt;&gt; result.update();
</code></pre>
<h3 id="updated-output-1"><a class="header" href="#updated-output-1">Updated Output</a></h3>
<pre><code class="language-diff">- &lt;li&gt;&lt;a class=&quot;url&quot; href=&quot;http://tomdale.net/&quot;&gt;http://tomdale.net/&lt;/a&gt;&lt;/li&gt;
+ &lt;li&gt;&lt;a class=&quot;url&quot; href=&quot;https://tomdale.net&quot;&gt;https://tomdale.net&lt;/a&gt;&lt;/li&gt;
</code></pre>
<blockquote>
<p>💡 Interestingly, after we called <code>result.update()</code>, Starbeam was able to
identify and update exactly two DOM nodes, without any kind of diffing.</p>
</blockquote>
<h2 id="for-the-curious-discrete-vs-continuous-reactivity"><a class="header" href="#for-the-curious-discrete-vs-continuous-reactivity">For the Curious: Discrete vs. Continuous Reactivity</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../core_concepts/index.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="../core_concepts/reactive_data.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../core_concepts/index.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="../core_concepts/reactive_data.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="../elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="../clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="../book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
